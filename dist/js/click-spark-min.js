class ClickSpark extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.root=document.documentElement,this.svg}connectedCallback(){this.setupSpark(),this.root.addEventListener("click",(t=>{this.setSparkPosition(t),this.animateSpark()}))}animateSpark(){let t=[...this.svg.children],e=parseInt(t[0].getAttribute("y1")),n=e/2+"px",s={duration:660,easing:"cubic-bezier(0.25, 1, 0.5, 1)",fill:"forwards"};t.forEach(((o,i)=>o.animate((s=>{let o=`calc(${s} * (360deg / ${t.length}))`;return[{strokeDashoffset:3*e,transform:`rotate(${o}) translateY(${n})`},{strokeDashoffset:e,transform:`rotate(${o}) translateY(0)`}]})(i),s)))}setSparkPosition(t){let e=this.root.getBoundingClientRect();this.svg.style.left=t.clientX-e.left-this.svg.clientWidth/2+"px",this.svg.style.top=t.clientY-e.top-this.svg.clientHeight/2+"px"}setupSpark(){let t=`\n      <style>\n        :host {\n          display: contents;\n        }\n        \n        svg {\n          pointer-events: none;\n          position: fixed;\n          top: -100%;\n          left: -100%;\n          rotate: -20deg;\n          stroke: var(--click-spark-color, currentcolor);\n        }\n\n        line {\n          stroke-dasharray: 30;\n          transform-origin: center;\n        }\n      </style>\n      <svg width="30" height="30" viewBox="0 0 100 100" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="4">\n        ${Array.from({length:8},(t=>'<line x1="50" y1="30" x2="50" y2="4"/>')).join("")}\n      </svg>\n    `;this.shadowRoot.innerHTML=t,this.svg=this.shadowRoot.querySelector("svg")}}customElements.define("click-spark",ClickSpark);